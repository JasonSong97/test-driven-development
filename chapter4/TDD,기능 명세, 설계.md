# TDD, 기능 명세, 설계

## 기능 명세

TDD에 기반한 테스트 코드를 작성하기 위해서는 기능 명세서가 꼭 필요하다.

- 입력: 아이디, 암호
- 출력: 아이디와 암호가 일치하면 성공, 틀리면 실패

설계는 기능 명세로부터 시작한다. 반드시 기능 명세를 구체화해야 한다. 기능 명세 구체화는 기능의 이름, 파라미터, 리턴 타입 등을 결정할 수 있고 설계 과정에 영향을 준다.

## 설계 과정을 지원하는 TDD

TDD는 테스트를 만드는 것부터 시작한다. 테스트 코드를 먼저 만들고 테스트를 통과시키기 위해 코드를 구현하고 리팩토링을 반복한다.

여기서 중요한 것은 테스트 코드를 가장 먼저 작성하는 것이다. 여기서 핵심적으로 필요한 것은 2가지이다.

- 테스트할 기능을 실행
- 실행 결과를 검증

즉 테스트에서 실행할 수 있는 객체나 함수가 반드시 존재해야 한다. 테스트는 기능이 올바르게 동작하는지 검증하는 것이므로 실행 결과를 검증해야 한다.

이를 위해 실행 결과를 어떻게 검증할 수 있는지 고민해야 한다. 고민해야 하는 것은 아래와 같다.

> - 클래스 이름
> - 메소드 이름
> - 메소드 파라미터 이름
> - 실행 결과

이 4가지를 결정하는 것이 곧 설계를 하는 과정이다.

### 필요한 만큼 설계하기

TDD는 테스트를 통과할 만큼만 코드를 작성해서 통과 시켜야 한다. 필요한 것으로 예측해서 미리 코드를 만들지 않는다.

즉, 필요한 만큼의 최소한의 코드를 작성하면서 불 필요하거나 복잡해지는 과정을 줄이는 것이다. 왜냐하면 요구사항은 언제든지 바뀔 수 있기 때문에 추측으로 코드를 확장해석하지 않는다.

## 기능 명세 구체화

테스트 코드를 작성하기 위해서는 반드시 기능 명세를 정리하자. 따라서 기획자와 지속적으로 의사소통을 필요로 한다.

개발자가 작성하는 기능 명세서는 매우 정확하게 작성이 되어야 한다.

즉, 모호한 상황을 구체적인 예시로 바꿔서 테스트 코드에 반영해야 하기 때문이다. 그리고 테스트 코드를 작성하면서 구체적인 명세가 완성이 된다.